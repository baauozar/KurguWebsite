@model KurguWebsite.WebUI.UIModel.CaseStudy.CaseStudyDetailViewModel
@{
    ViewData["Title"] = Model.Title;
}

<section class="page-header page-header-modern page-header-lg bg-color-primary border-0 my-0">
    <div class="container container-xl-custom my-5">
        <div class="row">
            <div class="col-md-12 text-center">
                <h1 class="font-weight-bold text-10 mb-0">@Model.Title</h1>
                <p class="text-white-50 mt-2">@Model.CompletedDateText</p>
            </div>
        </div>
    </div>
</section>

<div class="container container-xl-custom py-5 my-3">
    <div class="row">
        <div class="col-lg-8">
            @if (!string.IsNullOrWhiteSpace(Model.ImagePath))
            {
                <img src="@Model.ImagePath" alt="@Model.Title" class="img-fluid rounded mb-4" />
            }

            @if (!string.IsNullOrWhiteSpace(Model.Description))
            {
                <p class="lead">@Model.Description</p>
            }

            <dl class="row">
                @if (!string.IsNullOrWhiteSpace(Model.ClientName))
                {
                    <dt class="col-sm-3">Client</dt>
                    <dd class="col-sm-9">@Model.ClientName</dd>
                }
                @if (!string.IsNullOrWhiteSpace(Model.Industry))
                {
                    <dt class="col-sm-3">Industry</dt>
                    <dd class="col-sm-9">@Model.Industry</dd>
                }
                @if (!string.IsNullOrWhiteSpace(Model.ServiceName))
                {
                    <dt class="col-sm-3">Service</dt>
                    <dd class="col-sm-9">@Model.ServiceName</dd>
                }
            </dl>

            @if (Model.Technologies?.Count > 0)
            {
                <h4 class="mt-4">Technologies</h4>
                <div>
                    @foreach (var tech in Model.Technologies)
                    {
                        <span class="badge bg-secondary me-1 mb-1">@tech</span>
                    }
                </div>
            }

            @if (Model.Metrics?.Count > 0)
            {
                <h4 class="mt-4">Results</h4>
                <div class="row">
                    @foreach (var m in Model.Metrics.OrderBy(x => x.DisplayOrder))
                    {
                        <div class="col-sm-6 col-md-4 mb-3">
                            <div class="border rounded p-3 h-100">
                                @* Optional icon *@
                                @if (!string.IsNullOrWhiteSpace(m.Icon))
                                {
                                    <div class="mb-2"><i class="@m.Icon"></i></div>
                                }
                                <div class="fw-bold">@m.MetricValue</div>
                                <div class="text-muted small">@m.MetricName</div>
                            </div>
                        </div>
                    }
                </div>
            }

            <a class="btn btn-outline-primary mt-4" asp-controller="CaseStudies" asp-action="Index">Back to all</a>
        </div>

        <div class="col-lg-4">
            @* (Optional) Sidebar content goes here *@
        </div>
    </div>
</div>
